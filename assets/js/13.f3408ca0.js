(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{180:function(t,e,s){},372:function(t,e,s){"use strict";var r=s(180);s.n(r).a},391:function(t,e,s){"use strict";s.r(e);async function r(t,e){let s=t.split(""),r=_.shuffle(_.padEnd("",77,"2345678")),n=t=>{for(;t<s.length&&"0"!==s[t];)t++;if(t>=s.length)return s;let i={},a=((t,s)=>{let r=[],n=(t+e)%2?0:1;return r.push({y:t-1,x:n?s-1:s}),r.push({y:t,x:s-1}),r.push({y:t+1,x:n?s-1:s}),r.push({y:t-1,x:n?s:s+1}),r.push({y:t,x:s+1}),r.push({y:t+1,x:n?s:s+1}),_.filter(r,t=>t.x>-1&&t.x<13&&t.y>-1&&t.y<9)})(_.floor(t/13),t%13);_.each(a,t=>{i[_.get(s,13*t.y+t.x,"0")]=!0});for(let e=0;e<r.length;e++)if(r[e]&&!_.get(i,r[e],!1)){if(i[r[e]]=!0,s[t]=r[e],r[e]=null,n(t+1))return!0;r[e]=s[t],s[t]="0"}return!1};return n(0),s.join("")}var n={data:()=>({colors:["white","white","gray","black","gold","#996600","lime","red","blue"],sqrt3:100*Math.sqrt(3),presets:[{firstType:0,name:"神秘大地",board:"0000000000000 0110011001101 1101010101011 0001100101001 0000000011000 0011001110001 1110101010000 0001110010001 0000000001000"},{firstType:1,name:"神秘大地：冰與火之歌",board:"0100010000001 0010001110000 0011100011111 0000010001000 1101100001001 0011011100100 0100000100101 0010000100100 0010000100101"}],inputPreset:0,board:""}),watch:{inputPreset(){this.resetBoard()}},computed:{firstType(){return _.get(this,["presets",this.inputPreset,"firstType"],1)}},mounted(){this.resetBoard()},methods:{getColor(t,e){let s=_.parseInt(_.get(this,["board",13*t+e-14],"0"));return this.colors[s]},getPoints(t,e){let s=this.sqrt3,r=s/2,n=150*(t-1),i=173.2*(e-1)+((t+this.firstType)%2?0:r);return`${i+r},${n} ${i+s},${n+50} ${i+s},${n+150} ${i+r},${n+200} ${i+0},${n+150} ${i},${n+50}`},getCellCnt(t){return 12+(t+this.firstType)%2},async resetBoard(){let t=_.get(this,["presets",this.inputPreset,"board"]).replaceAll(" ","");this.board=await r(t,this.firstType)}}},i=(s(372),s(8)),a=Object(i.a)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("h1",{staticClass:"text-center my-3"},[t._v("神秘大地隨機地圖程式")]),s("div",{staticClass:"input-group mb-3"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.inputPreset,expression:"inputPreset"}],staticClass:"form-control",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.inputPreset=e.target.multiple?s:s[0]}}},t._l(t.presets,(function(e){return s("option",{domProps:{value:e.firstType}},[t._v(t._s(e.name))])})),0),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-outline-success",attrs:{type:"button"},on:{click:t.resetBoard}},[t._v("重新產生")])])]),s("div",{staticClass:"input-group mb-3"},[t._m(0),s("input",{directives:[{name:"model",rawName:"v-model",value:t.board,expression:"board"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.board},on:{input:function(e){e.target.composing||(t.board=e.target.value)}}})]),s("svg",{staticClass:"terra-mystica",attrs:{viewBox:"0 0 "+13*t.sqrt3+" 1400"}},[s("defs",[s("radialGradient",{attrs:{id:"lake",cx:"50%",cy:"50%"}},[s("stop",{attrs:{offset:"40%","stop-color":"#427ebd"}}),s("stop",{attrs:{offset:"90%","stop-color":"#82c890"}})],1)],1),t._l(9,(function(e){return t._l(t.getCellCnt(e),(function(r){return s("polygon",{key:e+"-"+r,attrs:{fill:t.getColor(e,r),points:t.getPoints(e,r)}})}))}))],2)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[this._v("地圖代碼")])])}],!1,null,"f1717736",null);e.default=a.exports}}]);